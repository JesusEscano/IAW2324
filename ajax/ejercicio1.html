<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 1</title>
</head>
<body>
    <h1>Mostrar datos del clima utilizando la API OpenWeatherMap:</h1>
    <label>Nombre de ciudad: <input id="nombre"><button id="buscar">Datos del tiempo</button></label>
    <p id="rdo"></p> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script>
$(document).ready(function () {
    $('#buscar').click(function () {
        let ciudad = $('#nombre').val();
        let apikey = 'eab4ddda995e75ff6b5b8b67509cb3ad';
        if (ciudad.trim() === '') {
            $('#rdo').html(
                'Indique una ciudad.'
                )
        }
        let API = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad}&appid=${apikey}&units=metric`;
        $.ajax({
        url: API,
        success: function (data) {
        $('#rdo').html(`<p>Temperatura: ${Math.trunc(data.main.temp)}Â°C</p><p>Clima: ${data.weather[0].description}</p>`);
        },
        error: function (error) {
        $('#rdo').html(`<p>Ha habido un error al solicitar los datos.</p>`);
        }
        });
        });
        });
    </script>
</body>
</html>